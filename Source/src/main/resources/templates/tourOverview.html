<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/sliderCSS.css}"/>
    <script type="text/javascript" th:src="@{/js/sliderScript.js}"/>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>AniTrans Tour Overview</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link href="../static/css/bulma.css" th:href="@{/css/bulma.css}" rel="stylesheet"/>
</head>
<body class="login-page page-layout">
<section class="hero is-link">
    <div class="hero-body">
        <div class="container is-fluid">
            <div class="columns">
                <div class="column is-one-quarter" style="margin-top: auto;">
                    <p class="title">
                        Anitrans
                    </p>
                    <p class="subtitle">
                        Logistics System
                    </p>
                </div>
                <div class="column is-half">
                    <div class="ism-slider " data-play_type="loop" id="my-slider">
                        <ol>
                            <li>
                                <img th:src="@{/images/goat.jpg}" height="531"
                                     width="945"/></li>
                            <li><img th:src="@{/images/cow.jpg}"/>
                            </li>
                            <li><img th:src="@{/images/panda.jpg}" height="479" width="640"/>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="hero-foot">
        <div class="container is-fluid">
            <nav class="tabs is-boxed">
                <ul>
                    <li class="is-active">
                        <a>Tour Overview</a>
                    </li>
                    <li>
                        <a href="deliveries.html">New Tour</a>
                    </li>
                    <li>
                        <a href="drivers">Drivers</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</section>
<div class="block">
    <div class="columns is-gapless">
        <div class="column is-one-third ">
            <div class="content">
                <div class="column">
                    <div class="columns">
                        <div class="column ">
                            Sort by:
                        </div>
                        <div class="column is-half">
                            <div class="select">
                                <select onChange="window.location.href='tours?sortBy=' + this.value">
                                    <option th:selected="${sortBy == 'Date/Time'}">Date/Time</option>
                                    <option th:selected="${sortBy == 'Startin Location'}">Startin Location</option>
                                    <option th:selected="${sortBy == 'Target Location'}">Target Location</option>
                                    <option th:selected="${sortBy == 'Driver'}">Driver</option>
                                    <option th:selected="${sortBy == 'Cargo'}">Cargo</option>
                                </select>
                            </div>

                        </div>
                    </div>
                </div>

                <div th:if="${#lists.isEmpty(tours)}">
                    <div class="notification is-warning ">
                        <div class="columns is-desktop is-vcentered">
                            <div class="column is-narrow">
                                <span class="icon"><i class="fa fa-frown-o fa-3x"></i>&nbsp;</span>
                            </div>
                            <div class="column "><p>No tours available. <a href="/deliveries">Create a new tour.</a></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div th:if="${not #lists.isEmpty(tours)}" th:each="tour : ${tours}">
                    <div th:with="result=${tour.id - 1}">
                        <div class="notification" th:classappend="${tour.id == activeTour.id} ? is-info">
                            <a th:href="'tours/delete?index=' + ${result}" class="button delete"></a>
                            <a th:href="'/tours?activeIndex=' + ${result}">
                                <div class="columns is-gapless">
                                    <div class="column is-half">
                                        <div class="columns is-gapless">
                                            <div class="column is-narrow">
                                                <span class="icon"><i class="fa fa-calendar"></i>&nbsp;</span>
                                            </div>
                                            <div class="column "><u th:text="${tour.deliveryStartTime}"></u></div>
                                        </div>
                                    </div>
                                    <div class="column is-half">
                                        <div class="columns is-gapless">
                                            <div class="column is-narrow">
                                                <span class="icon"><i class="fa fa-clock-o"></i>&nbsp;</span>
                                            </div>
                                            <div class="column"><u th:text="${tour.estimatedTime}"></u></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="columns is-gapless">
                                    <div class="column is-half">
                                        <div class="columns is-gapless">
                                            <div class="column is-narrow">
                                                <span class="icon"><i class="fa fa-map-pin"></i>&nbsp;</span>
                                            </div>
                                            <div class="column"><u th:text="${tour.startCity}"></u></div>
                                        </div>
                                    </div>
                                    <div class="column is-half">
                                        <div class="columns is-gapless">
                                            <div class="column is-narrow">
                                                <span class="icon"><i class="fa fa-flag-checkered"></i>&nbsp;</span>
                                            </div>
                                            <div class="column"><u th:text="${tour.destinationCity}"></u></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="columns is-gapless">
                                    <div class="column is-half">
                                        <div class="columns is-gapless">
                                            <div class="column is-narrow">
                                                <span class="icon"><i class="fa fa-user"></i>&nbsp;</span>
                                            </div>
                                            <div class="column"><u th:text="${tour.driver}"></u></div>
                                        </div>
                                    </div>
                                    <div class="column is-half">
                                        <div class="columns is-gapless">
                                            <div class="column is-narrow">
                                                Cargo:&nbsp;
                                            </div>
                                            <div class="column"><u th:text="${tour.cargo}"></u></div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div th:if="${not #lists.isEmpty(tours)}" class="column">
            <div class="block">
                <div class="box">
                    <form action="#" th:action="@{/tours/update}" th:object="${activeTour}" method="post">
                        <div class="columns">
                            <div class="column is-2">Cargo:</div>
                            <div class="column is-4">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{cargo}"/>
                                </div>
                            </div>
                            <div class="column is-2">Amount:</div>
                            <div class="column is-4 ">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{numberOfAnimals}"/>
                                </div>
                            </div>
                        </div>
                        <div class="columns  is-multiline">
                            <div class="column is-2">Starting Location:</div>
                            <div class="column is-4">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{startPersonName}"/>
                                </div>
                            </div>
                            <div class="column is-2 is-center">Target Location:</div>
                            <div class="column is-4 ">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{contactPersonName}"/>
                                </div>
                            </div>
                            <div class="column is-2"></div>
                            <div class="column is-4">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{startPersonSurname}"/>
                                </div>
                            </div>
                            <div class="column is-2"></div>
                            <div class="column is-4">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{contactPersonSurname}"/>
                                </div>
                            </div>
                            <div class="column is-2"></div>
                            <div class="column is-3">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{startAddress}"/>
                                </div>
                            </div>
                            <div class="column is-1">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{startAddressNumber}"/>
                                </div>
                            </div>
                            <div class="column is-2"></div>
                            <div class="column is-3">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{destinationAddress}"/>
                                </div>
                            </div>
                            <div class="column is-1">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{destinationAddressNumber}"/>
                                </div>
                            </div>
                            <div class="column is-2"></div>
                            <div class="column is-2">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{startZip}"/>
                                </div>
                            </div>
                            <div class="column is-2">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{startCity}"/>
                                </div>
                            </div>
                            <div class="column is-2"></div>
                            <div class="column is-2">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{destinationZip}"/>
                                </div>
                            </div>
                            <div class="column is-2">
                                <div class="field">
                                    <input class="input" type="text" th:field="*{destinationCity}"/>
                                </div>
                            </div>

                        </div>
                        <div class="columns">
                            <div class="column is-2">Date:</div>
                            <div class="column is-4">
                                <div class="field">
                                    <input class="input" type="text" placeholder="Datum"/>
                                </div>
                            </div>
                            <div class="column is-2">Time:</div>
                            <div class="column is-4">
                                <div class="field">
                                    <input class="input" type="text" placeholder="Zeit"/>
                                </div>
                            </div>
                        </div>
                        <div class="columns">
                            <div class="column is-2">Driver:</div>
                            <div class="column">
                                <div class="select">
                                    <select th:field="*{driver}">
                                        <option th:if="${not #lists.isEmpty(drivers)}" th:each="driver : ${drivers}" th:value="${driver.username}" th:text="${driver.username}"></option>
                                    </select>
                                </div>
                            </div>
                        </div>


                        <div class="columns">
                            <div class="column is-2">Comment:</div>
                            <div class="column">
                                <p class="control">
                                    <textarea class="textarea" placeholder="Comment"></textarea>
                                </p>
                            </div>
                        </div>
                        <div class="columns">
                            <div class="column is-2 is-offset-10"><button type="submit" class="button is-info is-pulled-right">Save</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $(".delete").click(function () {
            $(this).parent(".notification").hide(300);
        });
    });
</script>
</body>
</html>